# :computer: Usage

This project uses `Taskfile.yml` to define and run tasks. You can see a list of all available tasks by running `task -l`.

??? abstract "task-list.txt"

    ```yaml
    --8<-- "task-list.txt"
    ```

### :arrow_down: Download Weekly Player Stats

To download the latest player stats (defaulting to the 2023 and 2024 seasons), run the following command:

=== "Task"

    ```bash
    task download_weekly_stats
    ```

You can also specify the years to download by passing the `--years` argument:

=== "Task"

    ```bash
    task download_weekly_stats -- --years 2022 2023
    ```

This will create a `player_stats.csv` file in the `data/` directory.

### :clipboard: Get Available Players

To get a list of available players for weekly pickups, run the following command:

=== "Task"

    ```bash
    task get_available_players
    ```

This will create an `available_players.csv` file in the `data/` directory.

### :bust_in_silhouette: Identify My Team

To select your team from a list of all teams in the league, run the following command:

=== "Task"

    ```bash
    task identify_my_team
    ```

You will be prompted to enter the number corresponding to your team from the list. This will save your team's ID to the `my_team_id` field in the `config.yaml` file, so the other scripts know which team is yours.

### :bar_chart: Get My Team Roster

To get your team's roster and create the `my_team.md` file, run the following command:

=== "Task"

    ```bash
    task get_my_team_roster
    ```

### :video_game: Analyze Last Game

To analyze your team's performance in the last game and get suggestions for improvement, run:

=== "Task"

    ```bash
    task analyze_last_game
    ```

This will provide an AI-generated analysis of your team's performance and actionable advice.

### :trophy: Analyze Next Game

To analyze your upcoming fantasy football game against an opponent and get strategic suggestions to win, run:

=== "Task"

    ```bash
    task analyze_next_game
    ```

This script will prompt you to enter your opponent's roster (comma-separated player names) and then provide an AI-generated analysis of strengths, weaknesses, key matchups, and strategic advice.

### :page_with_curl: Generate Report

To generate a comprehensive report with draft recommendations, bye week analysis, and trade suggestions, run:

=== "Task"

    ```bash
    task generate_report
    ```

This will create a Markdown report file in the `docs/reports/posts/` directory, suitable for publishing with MkDocs.

### :computer: View Report in Terminal

To view the generated report directly in your terminal, run:

=== "Task"

    ```bash
    task generate_terminal_report
    ```

This will output the same comprehensive analysis to your command line, formatted for readability.

### :art: Render HTML Report

To render the generated Markdown report (`reports/report.md`) to an HTML file and open it in your default web browser, run:

=== "Task"

    ```bash
    task render_html_report
    ```

This will create a `report.html` file in the `reports/` directory and automatically open it.

### :globe_with_meridians: Publishing Reports

Reports generated by the AI can be published to the MkDocs Material site. This allows for easy sharing and viewing of the analysis.

To publish a report, ensure it is located in the `docs/reports/posts/` directory with the correct YAML front matter. The MkDocs site will automatically include it as a blog post.

To build and serve the documentation site locally using Docker, run:

=== "Task"

    ```bash
    task serve
    ```

### :gear: Get League Settings

To download your league's settings, run the following command:

=== "Task"

    ```bash
    task get_league_settings
    ```

### :mag_right: Suggest Pickups

To get pickup recommendations based on available players, their performance, and your team's needs, run:

=== "Task"

    ```bash
    task suggest_pickups
    ```

### :handshake: Suggest Trades

To get trade suggestions based on the latest player stats, run:

=== "Task"

    ```bash
    task suggest_trades
    ```

### :gem: Identify Waiver Wire Gems

To identify players with high upside based on recent usage trends, even if their fantasy point output hasn't spiked yet, run:

=== "Task"

    ```bash
    task suggest_pickups
    ```

    The output will include a separate section for "Waiver Wire Gems" with details on their recent usage and fantasy point averages compared to their season averages.

### :clipboard: Download ADP Data

To download the latest Average Draft Position (ADP) data from Fantasy Football Calculator, run:

=== "Task"

    ```bash
    task download_adp
    ```

    This data is used by the `live_draft_assistant` and other scripts for player valuation.

### :pencil: Live Draft Assistant

To run the interactive live draft assistant, which provides real-time suggestions based on VBD and team needs, run:

=== "Task"

    ```bash
    task live_draft_assistant
    ```

    The assistant will prompt you to enter drafted players and will provide recommendations when it's your turn. You can type `exit` or `quit` at any prompt to end the session.

